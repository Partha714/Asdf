<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Happy Birthday Srishti!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
    <style>
      body {
        margin: 0;
        overflow: hidden;
        background: black;
      }
      canvas {
        display: block;
      }
    </style>
  </head>
  <body>
    <div class="absolute top-4 w-full text-center z-10 pointer-events-none">
      <h1 class="text-pink-400 text-[5vw] font-bold drop-shadow-[0_0_12px_#ff69b4]">
        ðŸŽ‰ Happy Birthday, Srishti! ðŸŽ‰
      </h1>
    </div>

    <script>
      let font;
      let points = [];
      let particles = [];
      let message = "Happy Birthday Srishti!";
      let fontSize;

      function preload() {
        font = loadFont("https://cdnjs.cloudflare.com/ajax/libs/topcoat/0.8.0/font/SourceCodePro-Bold.otf");
      }

      function setup() {
        createCanvas(windowWidth, windowHeight);
        background(0);
        textAlign(CENTER, CENTER);
        fontSize = windowWidth < 500 ? 50 : 80;
        createPoints();
      }

      function createPoints() {
        points = font.textToPoints(message, 50, height / 2, fontSize, {
          sampleFactor: 0.2,
        });

        particles = [];
        for (let i = 0; i < points.length; i++) {
          let p = points[i];
          particles.push(new Particle(random(width), random(height), p.x, p.y));
        }
      }

      function windowResized() {
        resizeCanvas(windowWidth, windowHeight);
        fontSize = windowWidth < 500 ? 50 : 80;
        createPoints();
      }

      function draw() {
        background(0, 20);
        for (let p of particles) {
          p.update();
          p.show();
        }

        drawSparkles(80); // optional sparkles
      }

      class Particle {
        constructor(x, y, tx, ty) {
          this.pos = createVector(x, y);
          this.target = createVector(tx, ty);
          this.vel = p5.Vector.random2D().mult(random(2, 5));
          this.acc = createVector();
          this.r = 3;
          this.color = color(random(360), 100, 100);
        }

        update() {
          let force = p5.Vector.sub(this.target, this.pos);
          force.mult(0.05);
          this.acc.add(force);
          this.vel.add(this.acc);
          this.vel.limit(5);
          this.pos.add(this.vel);
          this.acc.mult(0);
        }

        show() {
          noStroke();
          fill(this.color);
          ellipse(this.pos.x, this.pos.y, this.r);
        }
      }

      function drawSparkles(count) {
        for (let i = 0; i < count; i++) {
          let x = random(width);
          let y = random(height);
          let alpha = random(50, 255);
          noStroke();
          fill(255, alpha);
          ellipse(x, y, random(0.5, 1.5));
        }
      }
    </script>
  </body>
</html>
