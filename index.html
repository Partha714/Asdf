<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Happy Birthday Srishti!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
    <style>
      body {
        margin: 0;
        overflow: hidden;
        background: black;
      }
      canvas {
        display: block;
      }
    </style>
  </head>
  <body>
    <div class="absolute top-4 w-full text-center z-10 pointer-events-none">
      <h1 class="text-pink-400 text-[6vw] sm:text-[4vw] font-bold drop-shadow-[0_0_12px_#ff69b4]">
        ðŸŽ‰ Happy Birthday, Srishti! ðŸŽ‰
      </h1>
    </div>

    <script>
      let font;
      let particles = [];
      let lines = ["Happy Birthday", "Srishti!"];
      let fontSize;

      function preload() {
        font = loadFont("https://cdnjs.cloudflare.com/ajax/libs/topcoat/0.8.0/font/SourceCodePro-Bold.otf");
      }

      function setup() {
        createCanvas(windowWidth, windowHeight);
        background(0);
        textFont(font);
        fontSize = width < 500 ? 48 : 80;
        generateParticles();
      }

      function windowResized() {
        resizeCanvas(windowWidth, windowHeight);
        fontSize = width < 500 ? 48 : 80;
        generateParticles();
      }

      function generateParticles() {
        particles = [];
        let spacing = fontSize + 20;
        let allPoints = [];

        for (let i = 0; i < lines.length; i++) {
          let line = lines[i];
          let y = height / 2 - spacing / 2 + i * spacing;
          let pts = font.textToPoints(line, 50, y, fontSize, {
            sampleFactor: 0.2,
          });
          allPoints.push(...pts);
        }

        for (let pt of allPoints) {
          particles.push(new Particle(random(width), random(height), pt.x, pt.y));
        }
      }

      class Particle {
        constructor(x, y, tx, ty) {
          this.pos = createVector(x, y);
          this.target = createVector(tx, ty);
          this.vel = p5.Vector.random2D().mult(random(3));
          this.acc = createVector();
          this.r = 3;
          this.color = color(random(360), 100, 100);
        }

        update() {
          let force = p5.Vector.sub(this.target, this.pos);
          force.mult(0.06);
          this.acc.add(force);
          this.vel.add(this.acc);
          this.vel.limit(5);
          this.pos.add(this.vel);
          this.acc.mult(0);
        }

        show() {
          noStroke();
          fill(this.color);
          ellipse(this.pos.x, this.pos.y, this.r);
        }
      }

      function draw() {
        background(0, 25);
        for (let p of particles) {
          p.update();
          p.show();
        }

        // Sparkles
        for (let i = 0; i < 50; i++) {
          let x = random(width);
          let y = random(height);
          let alpha = random(30, 150);
          fill(255, alpha);
          noStroke();
          ellipse(x, y, random(0.5, 1.5));
        }
      }
    </script>
  </body>
</html>
